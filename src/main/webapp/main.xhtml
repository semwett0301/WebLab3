<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xml:lang="en" lang="en">
<h:head>
    <title>Второстепенная</title>
    <link rel="stylesheet" href="fonts/GothamPro/stylesheet.css" type="text/css"/>
    <link rel="stylesheet" href="css/index.css" type="text/css"/>
</h:head>
<f:view>
    <h:body styleClass="body_main">
        <div class="coordinates_picture">
            <svg id="svg_area" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" xmlns:ui="http://java.sun.com/jsf/facelets">
                <rect x="150" y="150" width="100" height="50" style="stroke-opacity: 0.6; fill: rgb(51, 153, 255);"/>
                <rect x="761.101" y="270.492" width="0.74" height="0.74"
                      style="fill: rgb(216, 216, 216); fill-opacity: 0.6;"/>
                <path style="fill: rgb(51, 153, 255);"
                      transform="matrix(0.798786, 0, 0, 0.798786, -104.972481, 27.785759)"
                      d="M 256.605 153 A 62.595 62.595 0 0 1 319.2 90.405 L 319.2 153 Z"
                      />
                <path d="M 75.398 9.732 L 175.398 59.732 L 75.398 59.732 L 75.398 9.732 Z"
                      style="fill: rgb(51, 153, 255);" transform="matrix(0.000001, 1, 1, -0.000001, 90.26792, 74.60206)"
                      />
                <line style="stroke: rgb(0, 0, 0);" x1="25" y1="149.5" x2="275" y2="150.5" />
                <line style="stroke: rgb(0, 0, 0);" x1="150" y1="25" x2="150" y2="275"
                      transform="matrix(-1, 0, 0, -1, 300, 300)"/>
                <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 19.225px; font-weight: 700; white-space: pre;"
                      transform="matrix(0.321932, 0, 0, 0.416125, 213.714233, 121.107925)" x="106.508" y="57.716">R
                </text>
                <line style="stroke: rgb(0, 0, 0);" x1="50" y1="148" x2="50" y2="152"/>
                <line style="stroke: rgb(0, 0, 0);" x1="100" y1="148" x2="100" y2="152"/>
                <line style="stroke: rgb(0, 0, 0);" x1="200" y1="148" x2="200" y2="152"/>
                <line style="stroke: rgb(0, 0, 0);" x1="250" y1="148" x2="250" y2="152"/>
                <line style="stroke: rgb(0, 0, 0);" x1="150" y1="48" x2="150" y2="52"
                      transform="matrix(0, 1, -1, 0, 200, -100)"/>
                <line style="stroke: rgb(0, 0, 0);" x1="150" y1="248" x2="150" y2="252"
                      transform="matrix(0, 1, -1, 0, 400, 100)"/>
                <line style="stroke: rgb(0, 0, 0);" x1="150" y1="98" x2="150" y2="102"
                      transform="matrix(0, 1, -1, 0, 250, -50)"/>
                <line style="stroke: rgb(0, 0, 0);" x1="150" y1="198" x2="150" y2="202"
                      transform="matrix(0, 1, -1, 0, 350, 50)"/>
                <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 19.225px; font-weight: 700; white-space: pre;"
                      transform="matrix(0.321932, 0, 0, 0.416125, 120.714241, 78.107925)" x="106.508" y="57.716">R/2
                </text>
                <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 19.225px; font-weight: 700; white-space: pre;"
                      transform="matrix(0.321932, 0, 0, 0.416125, 120.714241, 29.036404)" x="106.508" y="57.716">R
                </text>
                <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 19.225px; font-weight: 700; white-space: pre;"
                      transform="matrix(0.321932, 0, 0, 0.416125, 120.714233, 228.107925)" x="106.508" y="57.716">-R
                </text>
                <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 19.225px; font-weight: 700; white-space: pre;"
                      transform="matrix(0.321932, 0, 0, 0.416125, 11.71424, 121.107925)" x="106.508" y="57.716">-R
                </text>
                <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 19.225px; font-weight: 700; white-space: pre;"
                      transform="matrix(0.321932, 0, 0, 0.416125, 120.714241, 178.107925)" x="106.508" y="57.716">-R/2
                </text>
                <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 19.225px; font-weight: 700; white-space: pre;"
                      transform="matrix(0.321932, 0, 0, 0.416125, 58.714241, 121.107925)" x="106.508" y="57.716">-R/2
                </text>
                <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 19.225px; font-weight: 700; white-space: pre;"
                      transform="matrix(0.321932, 0, 0, 0.416125, 158.714233, 121.107925)" x="106.508" y="57.716">-R/2
                </text>
                <path d="M 90.071 58.82 L 91.571 62.82 L 88.571 62.82 L 90.071 58.82 Z" style=""
                      transform="matrix(1, -0.000004, 0.000004, 1, 59.928764, -36.820053)"
                      />
                <path d="M 122.788 31.44 L 124.288 35.44 L 121.288 35.44 L 122.788 31.44 Z" style=""
                      transform="matrix(0.000077, -1, -1, -0.000077, 310.430658, 273.290742)"
                      />
                <g>
                    <ui:repeat value="#{manager.allResults}" var="point">
                        <circle r="3" cx="#{point.XSvg}" cy="#{point.YSvg}" fill="#{point.chooseColor}"></circle>
                    </ui:repeat>
                </g>
            </svg>
        </div>
        <h:form styleClass="form_with_coordinates" id="form_with_coordinates">
            <div id="parent_x">
                <div class="coordinate_name"><span>Введите X:</span></div>
                <h:selectOneRadio id="x" value="#{manager.x}">
                    <f:selectItem itemValue="-3" itemLabel="-3" p:selected="true"/>
                    <f:selectItem itemValue="-2" itemLabel="-2"/>
                    <f:selectItem itemValue="-1" itemLabel="-1"/>
                    <f:selectItem itemValue="0" itemLabel="0"/>
                    <f:selectItem itemValue="1" itemLabel="1"/>
                    <f:selectItem itemValue="2" itemLabel="2"/>
                    <f:selectItem itemValue="3" itemLabel="3"/>
                    <f:selectItem itemValue="4" itemLabel="4"/>
                    <f:selectItem itemValue="5" itemLabel="5"/>
                    <f:validateDoubleRange minimum="-3.0" maximum="5.0"/>
                </h:selectOneRadio>
                <p:message for="x" styleClass="error_message x_error_mes"/>
            </div>
            <div id="parent_y">
                <div class="coordinate_name"><span>Введите Y:</span></div>
                <p:inputText id="y" placeholder="(-5 ... 3)" value="#{manager.y}" styleClass="hidden_y">
                    <f:validateDoubleRange minimum="-4.999999" maximum="2.999999"/>
                </p:inputText>
                <p:message for="y" styleClass="error_message y_error_mes"/>
            </div>
            <div id="parent_r">
                <div class="coordinate_name"><span>Введите R:</span></div>
                <h:selectOneMenu id="r" value="#{manager.r}">
                    <f:selectItem itemValue="1" itemLabel="1"/>
                    <f:selectItem itemValue="2" itemLabel="2"/>
                    <f:selectItem itemValue="3" itemLabel="3"/>
                    <f:selectItem itemValue="4" itemLabel="4"/>
                    <f:selectItem itemValue="5" itemLabel="5"/>
                    <f:validateDoubleRange minimum="1.0" maximum="5.0"/>
                </h:selectOneMenu>
                <p:message for="r" styleClass="error_message r_error_mes"/>
            </div>
            <div id="submit">
                <h:commandButton styleClass="submit" value="Проверить точку" action="#{manager.toAction}"
                                 onclick="return validate()">
                    <f:ajax execute="@form" render="@all"/>
                </h:commandButton>
                <div class="extra_buttons">
                    <h:commandButton immediate="true" styleClass="submit" value="Вернуться"
                                     action="#{navigator.toStart}"/>
                    <h:commandButton styleClass="submit" value="Очистить" action="#{manager.clearTable}">
                        <f:ajax execute="@form" render="@all"/>
                    </h:commandButton>
                </div>
            </div>
        </h:form>
        <h2 class="last_h2">Прошлые запросы</h2>
        <div id="lastResultsTable" class="past_results">
            <h:dataTable value="#{manager.allResults}" var="res">
                <h:column>
                    <f:facet name="header">X</f:facet>
                    <div>
                        <h:outputText value="#{res.x}"/>
                    </div>
                </h:column>
                <h:column>
                    <f:facet name="header">Y</f:facet>
                    <div class="result centering tableColon">
                        <h:outputText value="#{res.y}"/>
                    </div>
                </h:column>
                <h:column>
                    <f:facet name="header">R</f:facet>
                    <div class="result centering tableColon">
                        <h:outputText value="#{res.r}"/>
                    </div>
                </h:column>
                <h:column>
                    <f:facet name="header">Попала</f:facet>
                    <div class="result centering tableColon">
                        <h:outputText value="#{res.enter}"/>
                    </div>
                </h:column>
            </h:dataTable>
        </div>

        <script src="js/jquery-3.6.0.min.js" type="text/javascript"/>
        <script src="js/validate.js" type="text/javascript"/>
    </h:body>
</f:view>
</html>